# Основные понятия БЭМ

Для начала работы с методологией необходимо ознакомиться с основными понятиями БЭМ:

* [Блок](#block)
* [Элемент](#elem)
* [Модификатор](#mod)
* [БЭМ-сущность](#entity)
* [Микс](#mix)
* [БЭМ-дерево](#bem-tree)
* [Технологии реализации блока](#techs)
* [Уровень переопределния](#level)
 * [Переопределение блока](#redefine)

<a name="block"></a>
## Блок

Блок — это логически и функционально независимый компонент страницы. Он содержит всю информацию о себе и своих [элементах](#elem). Детали внутренней реализации блока скрыты от пользователей. Блоки имеют API для взаимодействия друг с другом.

Блоки могут быть:

* простыми, например, `логотип` или `кнопка`;
* составными, содержащими в себе другие блоки, например, `шапка`.

![Составляющие блока Шапка](https://img-fotki.yandex.ru/get/15534/158800653.0/0_111fb2_7710ab3d_orig)

Блоки можно перемещать и повторно использовать в пределах одной страницы, разных страниц или проектов.

![Смена положения блоков](https://img-fotki.yandex.ru/get/16156/158800653.0/0_111fb3_2fec3fed_orig)

![Смена положения блоков](https://img-fotki.yandex.ru/get/15542/158800653.0/0_111fb1_bcbc3c6a_orig)

В интерфейсе может одновременно присутствовать несколько экземпляров одного и того же блока:

![Товары в интернет-магазине](https://img-fotki.yandex.ru/get/15498/158800653.0/0_111fb0_fbb195e9_orig)

<a name="elem"></a>
## Элемент

Элемент — это часть реализации блока, которая не может существовать и использоваться в отрыве от него.

Например, пункт меню вне контекста блока `меню` не имеет смысла, значит является элементом.

![Пункты меню](https://img-fotki.yandex.ru/get/15588/158800653.0/0_111fb6_192672cf_orig)

>[Когда создавать блок, когда элемент?](#faq)

>[Почему в методологии БЭМ не существует элементов элементов?]()

<a name="mod"></a>
## Модификатор

Модификатор — это свойство блока или элемента, определяющее их внешний вид, состояние или поведение.

Блок или элемент может иметь несколько модификаторов одновременно или не иметь их вообще.

По своей сути модификаторы похожи на атрибуты в HTML. Один и тот же блок выглядит по-разному благодаря применению модификатора:

![Добавить меню в подвале](https://img-fotki.yandex.ru/get/16183/158800653.0/0_111fba_921b3c47_orig)

>[Почему один модификатор не может одновременно относится и к блоку, и к элементу?]()

<a name="entity"></a>
## БЭМ-сущность

БЭМ-сущностями называются блоки, элементы и модификаторы.

Это понятие применяется как собирательное, если необходимо сказать обо всех сущностях одновременно, или как частное, если рассматривается отдельная БЭМ-сущность. 

<a name="mix"></a>
## Микс

Микс — это использование разных [БЭМ-сущностей](#entity) на одном [DOM-узле](https://ru.wikipedia.org/wiki/Document_Object_Model).

Миксы дают возможность:

* совмещать поведение и стили нескольких БЭМ-сущностей без дублирования кода;
* создавать семантически новые компоненты интерфейса на основе имеющихся блоков.

Рассмотрим пример микса блока и элемента другого блока.

Допустим, в проекте ссылки реализованы блоком `link`. Задача сделать ссылками пункты меню. Для этого можно создать дополнительный модификатор `type` со значением `link` для пункта меню. Но в таком случае придется скопировать поведение и стили ссылки (`link`), что приведет к дублированию кода. А можно смиксовать универсальный блок `link` и элемент `link` блока `menu`. Это позволит применить базовую функциональность ссылок из блока `link` и дополнительные CSS-правила из блока меню.

<a name="bem-tree"></a>
## БЭМ-дерево

БЭМ-дерево — представление структуры веб-страницы в терминах блоков, элементов, модификаторов. Это абстракция над [DOM-деревом](https://ru.wikipedia.org/wiki/Document_Object_Model), которая описывает имена БЭМ-сущностей, их состояния, порядок, вложенность и вспомогательные данные.

Рассмотрим пример DOM-дерева:

```html
<header class="header">
    <div class="logo"></div>
    <div class="search">
        <input type="input">
        <button type="button"></button>
    </div>
    <div class="lang-switcher"></div>
</header>
```

Ему соответствует такое БЭМ-дерево:

```
header
  ├──logo
  └──search
    ├──input
    └──button
  └──lang-switcher
```

В реальных проектах БЭМ-дерево можно выразить любым форматом, который поддерживает древовидную структуру.

Например, это же БЭМ-дерево будет иметь следующий вид:

В XML

```xml
<block:header>
    <block:logo>
    <block:search>
        <block:input>
        <block:button>
    <block:lang-switcher>
```

В [BEMJSON](https://ru.bem.info/technology/bemjson/current/bemjson/)

```
{
    block: 'header',
    content : [
        {
            block : 'logo'
        },
        {
            block : 'search-form',
            content : [
                {
                    block : 'input'
                },
                {
                    block : 'button'
                }
            ]
        },
        {
            block : 'lang-switcher'
        }
    ]
}
```

<a name="techs"></a>
## Технология реализации блока

Реализация бока включает в себя его поведение, внешний вид, тесты, документацию, описание зависимостей, а также любые дополнительные данные (например, картинки).

Для **реализации блока** используются различные **технологии**. Например, внешний вид может описываться в CSS, Stylus, Sass, поведение — в JavaScript, CoffeeScript и т.д. Для реализации шаблонов может использоваться Jade, Handlebars.js или XSL, а для документации — MarkDown или XML.  

Такие технологии в БЭМ называются **технологиями реализации блока**.

Например, если блоку `button` заданы стили, это означает, что блок реализован в технологии CSS. А если к нему написана документация в формате MarkDown, то — блок реализован в технологии md.

<a name="level"></a>
## Уровень переопределния

Уровень переопределения — это набор готовых блоков и их частичных реализаций.

Реализация блока может быть разделена по уровням переопределния. Каждый последующий уровень добавляет или перекрывает базовую реализацию блока. Конечный результат собирается со всех уровней переопределения последовательно в заданном порядке.

Например, в проект на отдельный уровень подключается сторонняя библиотека, которая содержит базовые реализации блоков. Проектные блоки, созданные вручную, хранятся на другом уровне переопределения.

Предположим, что для применения блока из библиотеки, необходимо изменить его стили. Для этого не нужно менять CSS-правила блока в коде библиотеки или копировать его данные для внесения изменений. Достаточно создать новые CSS-правила для этого блока на другом уровне проекта. При сборке в конечную реализацию подключится базовая функциональность с уровня библиотеки и новые стили с проектного уровня.

Также можно [переопределять](#redefine) стили, шаблоны, JavaScript-реализацию блоков. При этом, исходный код блоков библиотеки не меняется. Это позволяет сохранять изменения на уровне проекта в случае ее обновления.

<a name="redefine"></a>
### Переопределение блока

Переопределение — это изменение базовой реализации блока путем
добавления ему новых особенностей на другом уровне.

Конечное представление блока собирается последоватьельно из отдельных [технологий реализации](#techs), распределенных по разным уровням. Порядок последовательности уровней переопределения определяется в конфигурации сборки.
